<section class="bg-general bg-cover bg-center h-auto flex gap-5 text-secundary-light w-full">
  <!-- Main Content -->
  <div class="flex flex-col flex-1">
    <!-- Main Content Area -->
    <article class="flex justify-between items-end pr-6 mb-8">
      <article class="px-6 pt-8 flex flex-col gap-2 ">
        <h2 class="text-5xl font-semibold">
          Bienvenida de vuelta, <span class="text-main-yellow">Lily</span>
        </h2>
        <p class="italic text-[1.5rem] text-main-yellow">Tú Dashboard de administrador</p>
      </article>
      <a href=""><button
        class="px-2 h-16 w-48 bg-main-yellow rounded-lg hover:bg-transparent hover:text-main-yellow hover:border-main-yellow border border-main-yellow transition duration-500 text-main-black text-lg font-bold" id="openModal">
        Nuevo registro
      </button></a>
      <div id="modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center">
        <div class="bg-main-black p-8 rounded-lg shadow-xl w-1/3">
            <h2 class="text-3xl font-bold mb-8 text-secundary-light">Escoge una opcion</h2>
            <div class="flex flex-col gap-4">
                <a href="/api/v1/historialParqueo/noRegistrado">
                  <button class="w-full border border-main-yellow bg-main-yellow hover:bg-transparent text-main-black hover:text-secundary-light font-bold py-2 px-4 rounded hover:scale-105">
                    Usuario registrado
                  </button>
                </a>
                <a href="/api/v1/historialParqueo/noRegistrado">
                  <button class="w-full border border-main-yellow bg-main-yellow hover:bg-transparent text-main-black hover:text-secundary-light font-bold py-2 px-4 rounded hover:scale-105">
                    Usuario nuevo
                  </button>
                </a>
                
            </div>
            <button id="closeModal" class="mt-6 text-sm text-secundary-light hover:text-secundary-dark">
                Cerrar
            </button>
        </div>
    </div>
    </article>
    <main class="flex-1 overflow-y-auto p-6">
      <div class="max-w-7xl mx-auto space-y-6">
        <!-- Stats Overview -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-blue-500 bg-opacity-10">
                <i class="fa-solid fa-car text-2xl"></i>
              </div>
              <div class="ml-4">
                <h2 class="text-sm font-medium text-gray-400">
                  Total espacios
                </h2>
                <p class="text-2xl font-semibold">150</p>
                <p class="text-sm text-gray-400">12 Disponibles</p>
              </div>
            </div>
          </div>
          <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-green-500 bg-opacity-10">
                <i class="fa-solid fa-users text-2xl"></i>
              </div>
              <div class="ml-4">
                <h2 class="text-sm font-medium text-gray-400">
                  Usuarios Activos
                </h2>
                <p class="text-2xl font-semibold">1,234</p>
                <p class="text-sm text-green-500">↑ 12% este mes</p>
              </div>
            </div>
          </div>
          <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-purple-500 bg-opacity-10">
                <i class="fa-solid fa-calendar text-2xl"></i>
              </div>
              <div class="ml-4">
                <h2 class="text-sm font-medium text-gray-400">
                  Reservaciones hoy
                </h2>
                <p class="text-2xl font-semibold">89</p>
                <p class="text-sm text-purple-500">↑ 8% vs ayer</p>
              </div>
            </div>
          </div>
          <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-yellow-500 bg-opacity-10">
                <i class="fa-solid fa-money-bill text-2xl"></i>
              </div>
              <div class="ml-4">
                <h2 class="text-sm font-medium text-gray-400">Ingresos Hoy</h2>
                <p class="text-2xl font-semibold">$1,890</p>
                <p class="text-sm text-yellow-500">↑ 23% vs ayer</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts Row -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Revenue Chart -->
          <div class="bg-main-black rounded-lg p-6 border border-gray-700">
            <h2 class="text-lg font-medium mb-4">Resumen de ingresos</h2>
            <canvas id="revenueChart" height="200"></canvas>
          </div>
          <!-- Occupancy Chart -->
          <div class="bg-main-black rounded-lg p-6 border border-gray-700">
            <h2 class="text-lg font-medium mb-4">
              Ocupación de parqueadero</h2>
            <canvas id="occupancyChart" height="200"></canvas>
          </div>
        </div>


        <div class="bg-gray-800 rounded-lg border border-gray-700 overflow-hidden">
          <div class="p-6 flex justify-between items-center">
            <h2 class="text-lg font-medium">Actividad reciente</h2>
            <button
              class="px-4 py-2 bg-main-yellow rounded-lg hover:bg-transparent hover:text-main-yellow hover:border-main-yellow border border-main-yellow transition duration-500 text-main-black">
              Ver todo
            </button>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-700">
                <tr>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Tiempo
                  </th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Usuario
                  </th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Acción
                  </th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Espacio
                  </th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Estado
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-700">
                <tr>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">Justo ahora</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">John Doe</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">Ingreso</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">A-123</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    <span
                      class="px-2 py-1 text-xs font-medium rounded-full bg-green-500 bg-opacity-10 text-green-500">Activo</span>
                  </td>
                </tr>
                <tr>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">hace 5 min</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    Jane Smith
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">Salida</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">B-101</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    <span
                      class="px-2 py-1 text-xs font-medium rounded-full bg-gray-500 bg-opacity-10 text-gray-300">Completado</span>
                  </td>
                </tr>
                <tr>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    hace 10 min
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    Mike Johnson
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    Reservación
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">C-205</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm">
                    <span
                      class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-500 bg-opacity-10 text-yellow-500">Pendiente</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>


    // Revenue Chart
    const revenueCtx = document.getElementById("revenueChart").getContext("2d");
    new Chart(revenueCtx, {
      type: "line",
      data: {
        labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
        datasets: [
          {
            label: "Weekly Revenue",
            data: [1500, 1800, 2000, 1900, 2200, 2400, 1890],
            borderColor: "#F6C90E",
            tension: 0.4,
            fill: false,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: false,
          },
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              color: "rgba(255, 255, 255, 0.1)",
            },
            ticks: {
              color: "#9CA3AF",
            },
          },
          x: {
            grid: {
              color: "rgba(255, 255, 255, 0.1)",
            },
            ticks: {
              color: "#9CA3AF",
            },
          },
        },
      },
    });

    // Occupancy Chart
    const occupancyCtx = document
      .getElementById("occupancyChart")
      .getContext("2d");
    new Chart(occupancyCtx, {
      type: "bar",
      data: {
        labels: ["6AM", "9AM", "12PM", "3PM", "6PM", "9PM"],
        datasets: [
          {
            label: "Occupancy Rate",
            data: [30, 75, 90, 85, 95, 60],
            backgroundColor: "#F6C90E",
            borderRadius: 5,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: false,
          },
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            grid: {
              color: "rgba(255, 255, 255, 0.1)",
            },
            ticks: {
              color: "#9CA3AF",
              callback: function (value) {
                return value + "%";
              },
            },
          },
          x: {
            grid: {
              color: "rgba(255, 255, 255, 0.1)",
            },
            ticks: {
              color: "#9CA3AF",
            },
          },
        },
      },
    });

    //vehicle modal logic 
    const openModalBtn = document.getElementById('openModal');
        const closeModalBtn = document.getElementById('closeModal');
        const modal = document.getElementById('modal');

        openModalBtn.addEventListener('click', (e) => {
            e.preventDefault();
            console.log('clicked');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        });

        closeModalBtn.addEventListener('click', () => {
            modal.classList.remove('flex');
            modal.classList.add('hidden');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }
        });
  </script>
  <section />
</section>